{
  "fixes": [
    {
      "description": "Adds a version field so the path dependency is publishable / policy-compliant.",
      "fix_id": "cargo.path_dep_add_version",
      "operations": [
        {
          "dep": "crate-b",
          "dep_path": "../b",
          "manifest": "crates/a/Cargo.toml",
          "op": "ensure_path_dep_has_version",
          "toml_path": [
            "dependencies",
            "crate-b"
          ],
          "version": "0.2.0"
        }
      ],
      "preconditions": [
        {
          "path": "crates/a/Cargo.toml",
          "type": "file_exists"
        }
      ],
      "safety": "safe",
      "title": "Add version = \"0.2.0\" for path dependency crate-b",
      "triggers": [
        {
          "data": {
            "dep": "crate-b",
            "dep_path": "../b",
            "toml_path": [
              "dependencies",
              "crate-b"
            ]
          },
          "location": {
            "column": 1,
            "line": 7,
            "path": "crates/a/Cargo.toml"
          },
          "message": "path dependency missing version",
          "trigger": {
            "check_id": "deps.path_requires_version",
            "code": "missing_version",
            "tool": "depguard"
          }
        }
      ]
    }
  ],
  "inputs": {
    "artifacts_dir": "<ARTIFACTS_DIR>",
    "repo_root": "<REPO_ROOT>"
  },
  "policy": {
    "allow": [],
    "deny": [],
    "require_clean_hashes": true
  },
  "receipts": [
    {
      "parse_ok": true,
      "report_path": "<ARTIFACTS>/depguard/report.json",
      "schema": "depguard.report.v1",
      "sensor_id": "depguard",
      "tool_name": "depguard"
    }
  ],
  "run": {},
  "schema": "buildfix.plan.v1",
  "summary": {
    "fixes_total": 1,
    "guarded": 0,
    "safe": 1,
    "unsafe_": 0
  },
  "tool": {
    "name": "buildfix",
    "version": "test"
  }
}